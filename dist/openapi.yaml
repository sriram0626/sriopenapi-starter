openapi: 3.0.0
info:
  title: DLR.Certify.API.ProductionLineActivation
  version: 1.0.0
servers:
  - url: http://localhost:8099
paths:
  /pla/api/v1/stats/{market}:
    get:
      tags:
        - Stats
        - Stats
      summary: Fetch market summary stats
      description: Fetch market summary stats including pending batches, available markers, active machines and available products.
      operationId: fetchMarketStats
      parameters:
        - name: market
          in: path
          required: true
          description: Code of market targeted. Must be 2 uppercase letters matching ^[A-Z]{2}$ (e.g., 'US', 'DE').
          schema:
            type: string
      responses:
        '200':
          description: Details of pending batches, available markers, active machines and available products
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetMarketSummaryStatsResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/product/{market}:
    get:
      tags:
        - Product
        - Product
      summary: Fetch available products
      description: Fetch available products for a particular market.
      operationId: fetchAvailableProducts
      parameters:
        - name: market
          in: path
          required: true
          description: Code of market targeted. Must be 2 uppercase letters matching ^[A-Z]{2}$ (e.g., 'US', 'DE').
          schema:
            type: string
      responses:
        '200':
          description: List of available products with their SKUs
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllProductsResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/marker/{market}/validate:
    post:
      tags:
        - Marker
      operationId: validateMarkerData
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
      requestBody:
        x-name: containerDetails
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ContainerDetail'
        required: true
      responses:
        '200':
          description: Success
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateMarkerResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/marker/{market}:
    get:
      tags:
        - Marker
        - Marker
      summary: Fetch marker data
      description: Fetch marker data for a particular market.
      operationId: fetchMarkerData
      parameters:
        - name: market
          in: path
          required: true
          description: Code of market targeted. Must be 2 uppercase letters matching ^[A-Z]{2}$ (e.g., 'US', 'DE').
          schema:
            type: string
      responses:
        '200':
          description: List of marker data with container information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetMarkersByMarketResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/line/{market}:
    get:
      tags:
        - Line
        - Line
      summary: Fetch all production lines and available machines
      description: Fetch all production lines and available machines for a particular market.
      operationId: fetchAllProductionLines
      parameters:
        - name: market
          in: path
          required: true
          description: Code of market targeted. Must be 2 uppercase letters matching ^[A-Z]{2}$ (e.g., 'US', 'DE').
          schema:
            type: string
      responses:
        '200':
          description: List of available production lines and available machines
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllProductionLinesResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/line/{market}/{lineId}:
    get:
      tags:
        - Line
        - Line
      summary: Fetch a production line and available machines
      description: Fetch a production line and available machines for a particular market.
      operationId: fetchProductionLineById
      parameters:
        - name: market
          in: path
          required: true
          description: Code of market targeted. Must be 2 uppercase letters matching ^[A-Z]{2}$ (e.g., 'US', 'DE').
          schema:
            type: string
        - name: lineId
          in: path
          required: true
          description: Line Id. Must be a string max length of 50
          schema:
            type: string
      responses:
        '200':
          description: List of available machines for a production line
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetProductionLineByIdResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/health:
    get:
      tags:
        - Health
      operationId: DLRCertifyAPIProductionLineActivationEndpointsHealthHealthCheck
      responses:
        '204':
          description: No Content
        '401':
          description: Unauthorized
      security:
        - JWTBearerAuth: []
  /pla/api/v1/health/live:
    get:
      tags:
        - Health
      operationId: DLRCertifyAPIProductionLineActivationEndpointsHealthLivenessCheck
      responses:
        '204':
          description: No Content
        '401':
          description: Unauthorized
      security:
        - JWTBearerAuth: []
  /pla/api/v1/health/ready:
    get:
      tags:
        - Health
      operationId: DLRCertifyAPIProductionLineActivationEndpointsHealthReadinessCheck
      responses:
        '204':
          description: No Content
        '401':
          description: Unauthorized
      security:
        - JWTBearerAuth: []
  /pla/api/v1/batch/{market}/{batchId}:
    delete:
      tags:
        - Batch
      operationId: deleteBatchById
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
        - name: batchId
          in: path
          required: true
          schema:
            type: string
            format: guid
      responses:
        '204':
          description: No Content
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
    get:
      tags:
        - Batch
      operationId: fetchBatchById
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
        - name: batchId
          in: path
          required: true
          schema:
            type: string
            format: guid
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBatchByBatchIdResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    put:
      tags:
        - Batch
      operationId: updateBatchById
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
        - name: batchId
          in: path
          required: true
          schema:
            type: string
            format: guid
      requestBody:
        x-name: batchRequest
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DetailBatch'
        required: true
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBatchByBatchIdResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBatchByBatchIdResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/batch/{market}:
    get:
      tags:
        - Batch
      operationId: fetchAllBatches
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
        - name: dateFrom
          in: query
          schema:
            type: string
            format: date-time
            nullable: true
        - name: dateTo
          in: query
          schema:
            type: string
            format: date-time
            nullable: true
        - name: status
          in: query
          schema:
            type: string
            nullable: true
        - name: batchId
          in: query
          schema:
            type: string
            nullable: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllBatchesResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    post:
      tags:
        - Batch
      operationId: uploadBatch
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
      requestBody:
        x-name: batchRequest
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/DetailBatch'
        required: true
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBatchByBatchIdResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBatchByBatchIdResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/batch/productTypeConfig/{market}/{productType}:
    get:
      tags:
        - Batch
      operationId: fetchProductTypeConfigBySiteGln
      parameters:
        - name: market
          in: path
          required: true
          schema:
            type: string
        - name: productType
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetProductConfigurationBySiteGlnResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/stats:
    get:
      tags:
        - Admin
      operationId: fetchAdminStats
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAdminStatsResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/user:
    post:
      tags:
        - Admin
      operationId: createUser
      requestBody:
        x-name: CreateUserRequest
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
        required: true
        x-position: 1
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateUserResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    get:
      tags:
        - Admin
      operationId: fetchAllUsers
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllUsersResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/user/{userId}:
    delete:
      tags:
        - Admin
      operationId: deleteUserById
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: No Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    get:
      tags:
        - Admin
      operationId: fetchUserById
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: guid
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetUserByIdResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    put:
      tags:
        - Admin
      operationId: updateUserById
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        x-name: body
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserDetails'
        required: true
      responses:
        '204':
          description: No Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/user/roles:
    get:
      tags:
        - Admin
      operationId: fetchAvailableRoles
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAvailableRolesResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/user/{userId}/logins:
    get:
      tags:
        - Admin
      operationId: fetchLoginsByUserId
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
        - name: dateFrom
          in: query
          schema:
            type: string
            format: date-time
            nullable: true
        - name: dateTo
          in: query
          schema:
            type: string
            format: date-time
            nullable: true
        - name: pageOffset
          in: query
          required: true
          schema:
            type: integer
            format: int32
        - name: pageLimit
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetLoginsByUserIdResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/sites:
    get:
      tags:
        - Admin
      operationId: fetchAllSitesForAdmin
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSitesForUserResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/user/logins:
    get:
      tags:
        - Admin
      operationId: fetchUserLogins
      parameters:
        - name: dateFrom
          in: query
          schema:
            type: string
            format: date-time
            nullable: true
        - name: dateTo
          in: query
          schema:
            type: string
            format: date-time
            nullable: true
        - name: pageOffset
          in: query
          required: true
          schema:
            type: integer
            format: int32
        - name: pageLimit
          in: query
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetUserLoginsResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/user/password:
    put:
      tags:
        - User
      operationId: updateUserPassword
      requestBody:
        x-name: body
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserPasswordBody'
        required: true
      responses:
        '204':
          description: No Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/user/{userId}/status:
    put:
      tags:
        - Admin
      operationId: changeUserStatus
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        x-name: body
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserStatusPayload'
        required: true
      responses:
        '204':
          description: No Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/markets:
    get:
      tags:
        - Admin
      operationId: fetchAllTenants
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllMarketsResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/tenant/{tenantId}/organisations:
    get:
      tags:
        - Admin
      operationId: fetchAllTenantOrganisations
      parameters:
        - name: tenantId
          in: path
          required: true
          schema:
            type: string
            format: guid
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllOrganisationsByMarketResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/PLA/organisation:
    post:
      tags:
        - PLA
      operationId: DLRCertifyAPIProductionLineActivationEndpointsAdminPLAOrganisationCreatePLAOrganisation
      requestBody:
        x-name: CreateOrganisationSiteRequest
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrganisationSiteRequest'
        required: true
        x-position: 1
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateOrganisationSiteResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
    get:
      tags:
        - PLA
      operationId: DLRCertifyAPIProductionLineActivationEndpointsAdminPLAOrganisationGetAllPLAOrganisations
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllPLAOrganisationResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
    put:
      tags:
        - PLA
      operationId: DLRCertifyAPIProductionLineActivationEndpointsAdminPLAOrganisationUpdatePLAOrganisation
      requestBody:
        x-name: CreateOrganisationSiteRequest
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrganisationSiteRequest'
        required: true
        x-position: 1
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
  /pla/api/v1/PLA/organisationById/{organisationId}:
    get:
      tags:
        - PLA
      operationId: DLRCertifyAPIProductionLineActivationEndpointsAdminPLAOrganisationGetPLAOrganisationById
      parameters:
        - name: organisationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetOrganisationByIdResponse'
        '401':
          description: Unauthorized
      security:
        - JWTBearerAuth: []
  /pla/api/v1/PLA/organisation/{organisationGln}:
    get:
      tags:
        - PLA
      operationId: DLRCertifyAPIProductionLineActivationEndpointsAdminPLAOrganisationGetPLAOrganisationSiteByOrgGLN
      parameters:
        - name: organisationGln
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetOrganisationSiteByOrgGlnResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/site:
    post:
      tags:
        - Admin
      operationId: addSite
      requestBody:
        x-name: SiteDetails
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SiteDetails'
        required: true
        x-position: 1
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    get:
      tags:
        - Admin
      operationId: fetchAllSites
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllSiteResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/site/{siteId}:
    delete:
      tags:
        - Admin
      operationId: deleteSite
      parameters:
        - name: siteId
          in: path
          required: true
          schema:
            type: string
            format: guid
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    get:
      tags:
        - Admin
      operationId: fetchSiteBySiteId
      parameters:
        - name: siteId
          in: path
          required: true
          schema:
            type: string
            format: guid
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetOrganisationSiteDetailsBySiteIdResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
    put:
      tags:
        - Admin
      operationId: updateSite
      parameters:
        - name: siteId
          in: path
          required: true
          schema:
            type: string
            format: guid
      requestBody:
        x-name: siteDetails
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SiteDetails'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/admin/site/status:
    patch:
      tags:
        - Admin
      operationId: changeSiteStatus
      requestBody:
        x-name: UpdatePlaSiteStatusBySiteIdRequest
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePlaSiteStatusBySiteIdRequest'
        required: true
        x-position: 1
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '409':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaOrganisationSiteResponse'
        '500':
          description: Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      security:
        - JWTBearerAuth: []
  /pla/api/v1/account:
    get:
      tags:
        - Account
      operationId: getLoggedInUserDetails
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAccountDetailsResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
    put:
      tags:
        - Account
      operationId: updateLoggedInUserDetails
      requestBody:
        x-name: UpdateAccountDetailsRequest
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountDetailsRequest'
        required: true
        x-position: 1
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - JWTBearerAuth: []
components:
  schemas:
    GetMarketSummaryStatsResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/MarketSummaryStats'
    MarketSummaryStats:
      type: object
      additionalProperties: false
      required:
        - pendingBatches
        - availableMarkers
        - activeMachines
        - availableProducts
      properties:
        pendingBatches:
          type: integer
          format: int32
        availableMarkers:
          type: integer
          format: int64
        activeMachines:
          type: integer
          format: int32
        availableProducts:
          type: integer
          format: int32
    ProblemDetails:
      type: object
      additionalProperties:
        nullable: true
      properties:
        type:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
        status:
          type: integer
          format: int32
          nullable: true
        detail:
          type: string
          nullable: true
        instance:
          type: string
          nullable: true
    GetMarketSummaryStatsRequest:
      type: object
      additionalProperties: false
    GetAllProductsResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/ProductSkuDto'
    ProductSkuDto:
      type: object
      additionalProperties: false
      required:
        - productType
        - productEan
        - productStatus
        - productDescription
        - skus
      properties:
        productType:
          type: string
          maxLength: 255
          minLength: 1
        productEan:
          type: string
          maxLength: 20
          minLength: 1
        productStatus:
          $ref: '#/components/schemas/ProductStatus'
        productDescription:
          type: string
          maxLength: 255
          minLength: 1
        skus:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/SkuDto'
    ProductStatus:
      type: string
      description: ''
      x-enumNames:
        - active
        - inactive
      enum:
        - active
        - inactive
    SkuDto:
      type: object
      additionalProperties: false
      required:
        - name
        - format
      properties:
        name:
          type: string
          minLength: 1
        format:
          $ref: '#/components/schemas/Format'
    Format:
      type: string
      description: ''
      x-enumNames:
        - reels
        - bundles
        - sheets
      enum:
        - reels
        - bundles
        - sheets
    GetAllProductsRequest:
      type: object
      additionalProperties: false
    ValidateMarkerResponse:
      type: object
      additionalProperties: false
      properties:
        errors:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/Errors'
    Errors:
      type: object
      additionalProperties: false
      required:
        - id
        - code
        - detail
        - status
        - title
      properties:
        id:
          type: string
          format: guid
          minLength: 1
        code:
          type: string
          minLength: 1
        detail:
          type: string
          minLength: 1
        status:
          type: string
          minLength: 1
        title:
          type: string
          minLength: 1
    GetMarkersByMarketResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/MarkerContainer'
    ContainerDetail:
      type: object
      additionalProperties: false
      required:
        - containerId
        - prefix
        - startRange
        - endRange
      properties:
        containerId:
          type: string
          maxLength: 30
          minLength: 1
        prefix:
          type: string
          minLength: 1
        startRange:
          type: integer
          format: int64
        endRange:
          type: integer
          format: int64
    MarkerContainer:
      type: object
      additionalProperties: false
      required:
        - containerId
        - expirationDate
        - prefix
        - startRange
        - endRange
        - sku
        - format
      properties:
        containerId:
          type: string
          maxLength: 30
          minLength: 1
        expirationDate:
          type: string
          format: date-time
          minLength: 1
        prefix:
          type: string
          minLength: 1
        startRange:
          type: integer
          format: int64
        endRange:
          type: integer
          format: int64
        sku:
          type: string
          minLength: 1
        format:
          $ref: '#/components/schemas/Format'
    GetMarkersByMarketRequest:
      type: object
      additionalProperties: false
    GetAllProductionLinesResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Line'
    Line:
      type: object
      additionalProperties: false
      required:
        - lineId
        - machines
      properties:
        lineId:
          type: string
          minLength: 1
        machines:
          type: array
          items:
            $ref: '#/components/schemas/Machine'
    Machine:
      type: object
      additionalProperties: false
      required:
        - machineDescription
        - machineId
        - machineStatus
      properties:
        machineDescription:
          type: string
          maxLength: 50
          minLength: 1
        machineId:
          type: string
          maxLength: 50
          minLength: 1
        machineStatus:
          $ref: '#/components/schemas/MachineStatus'
    MachineStatus:
      type: string
      description: ''
      x-enumNames:
        - active
        - inactive
      enum:
        - active
        - inactive
    GetAllProductionLinesRequest:
      type: object
      additionalProperties: false
    GetProductionLineByIdResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/Line'
    GetProductionLineByIdRequest:
      type: object
      additionalProperties: false
    DeleteBatchByBatchIdRequest:
      type: object
      additionalProperties: false
    GetAllBatchesResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Batch'
    Batch:
      type: object
      additionalProperties: false
      required:
        - batchId
        - status
        - createdDateTime
        - productDescription
        - volume
        - sku
        - batchName
      properties:
        batchId:
          type: string
          format: guid
          minLength: 1
        status:
          $ref: '#/components/schemas/Status'
        createdDateTime:
          type: string
          format: date-time
          minLength: 1
        modifiedDateTime:
          type: string
          format: date-time
          nullable: true
        productDescription:
          type: string
          maxLength: 255
          minLength: 1
        volume:
          type: integer
          format: int32
        sku:
          type: string
          minLength: 1
        errors:
          type: integer
          format: int32
        batchName:
          type: string
          minLength: 1
    Status:
      type: string
      description: ''
      x-enumNames:
        - draft
        - allocated
        - reconciled
        - processed
      enum:
        - draft
        - allocated
        - reconciled
        - processed
    GetAllBatchesRequest:
      type: object
      additionalProperties: false
    GetBatchByBatchIdResponse:
      type: object
      additionalProperties: false
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/DetailBatch'
        meta:
          $ref: '#/components/schemas/ErrorDetails'
        productConfiguration:
          nullable: true
          oneOf:
            - $ref: '#/components/schemas/ProductConfiguration'
    DetailBatch:
      type: object
      additionalProperties: false
      required:
        - status
        - dateTime
        - lineId
        - machineId
        - containers
        - productEan
      properties:
        status:
          $ref: '#/components/schemas/Status'
        batchLink:
          $ref: '#/components/schemas/BatchLink'
        declaredWastedNotScanned:
          type: integer
          format: int32
          nullable: true
        dateTime:
          type: string
          format: date-time
          minLength: 1
        lineId:
          type: string
          minLength: 1
        machineId:
          type: string
          maxLength: 50
          minLength: 1
        manufacturerBatchId:
          type: string
          nullable: true
        containers:
          type: array
          minLength: 1
          minItems: 1
          nullable: false
          items:
            $ref: '#/components/schemas/Container'
        productEan:
          type: string
          maxLength: 20
          minLength: 1
    BatchLink:
      type: object
      additionalProperties: false
      required:
        - declaredEndDate
        - declaredStartDate
      properties:
        declaredEndDate:
          type: string
          format: date-time
          minLength: 1
        declaredStartDate:
          type: string
          format: date-time
          minLength: 1
    Container:
      type: object
      additionalProperties: false
      required:
        - containerId
        - prefix
        - startRange
        - endRange
        - rangeStatus
        - format
      properties:
        containerId:
          type: string
          maxLength: 30
          minLength: 1
        prefix:
          type: string
          minLength: 1
        startRange:
          type: integer
          format: int64
        endRange:
          type: integer
          format: int64
        rangeStatus:
          $ref: '#/components/schemas/RangeStatus'
        format:
          $ref: '#/components/schemas/Format'
        errorId:
          type: string
          format: guid
          nullable: true
    RangeStatus:
      type: string
      description: ''
      x-enumNames:
        - allocated
        - unused
        - wasted
      enum:
        - allocated
        - unused
        - wasted
    ErrorDetails:
      type: object
      additionalProperties: false
      required:
        - batchId
        - batchName
      properties:
        batchId:
          type: string
          format: guid
          minLength: 1
        batchName:
          type: string
          minLength: 1
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ValidationBatchErrorDto'
    ValidationBatchErrorDto:
      type: object
      additionalProperties: false
      required:
        - id
        - code
        - detail
        - status
        - title
      properties:
        id:
          type: string
          format: guid
          minLength: 1
        code:
          type: string
          minLength: 1
        detail:
          type: string
          minLength: 1
        status:
          type: string
          minLength: 1
        title:
          type: string
          minLength: 1
    ProductConfiguration:
      type: object
      additionalProperties: false
      required:
        - wasteDeclarationEnabled
        - manufacturerBatchIdEnabled
      properties:
        wasteDeclarationEnabled:
          type: boolean
        manufacturerBatchIdEnabled:
          type: boolean
    GetBatchByBatchIdRequest:
      type: object
      additionalProperties: false
    GetProductConfigurationBySiteGlnResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/ProductConfiguration'
    GetProductConfigurationBySiteGlnRequest:
      type: object
      additionalProperties: false
    GetAdminStatsResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/AdminStatsResponse'
    AdminStatsResponse:
      type: object
      additionalProperties: false
      required:
        - siteCount
        - activeUserCount
        - inactiveUserCount
      properties:
        siteCount:
          type: integer
          format: int32
        activeUserCount:
          type: integer
          format: int32
        inactiveUserCount:
          type: integer
          format: int32
    CreateUserResponse:
      type: object
      additionalProperties: false
      required:
        - userId
      properties:
        userId:
          type: string
          format: guid
          minLength: 1
    CreateUserRequest:
      type: object
      additionalProperties: false
      required:
        - firstName
        - lastName
        - email
        - siteGLN
      properties:
        firstName:
          type: string
          maxLength: 32
          minLength: 1
        lastName:
          type: string
          maxLength: 32
          minLength: 1
        email:
          type: string
          format: email
          maxLength: 255
          minLength: 1
        siteGLN:
          type: string
          maxLength: 13
          minLength: 1
    EmptyResponse:
      type: object
      description: a response dto that doesn't have any properties
      additionalProperties: false
    DeleteUserRequest:
      type: object
      additionalProperties: false
    GetAllUsersResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/UserResponse'
    UserResponse:
      type: object
      additionalProperties: false
      required:
        - userId
        - userAccountName
        - email
        - enabled
        - emailVerified
      properties:
        userId:
          type: string
          format: guid
          minLength: 1
        userAccountName:
          type: string
          maxLength: 65
          minLength: 1
        email:
          type: string
          format: email
          maxLength: 255
          minLength: 1
        markets:
          type: array
          nullable: true
          items:
            type: string
        siteGln:
          type: string
          maxLength: 13
          nullable: true
        siteName:
          type: string
          maxLength: 255
          nullable: true
        lastLogin:
          type: string
          format: date-time
          nullable: true
        enabled:
          type: boolean
        emailVerified:
          type: boolean
    GetAvailableRolesResponse:
      type: object
      additionalProperties: false
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Role'
    Role:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        composite:
          type: boolean
          nullable: true
        composites:
          $ref: '#/components/schemas/RoleComposite'
        clientRole:
          type: boolean
          nullable: true
        containerId:
          type: string
        attributes:
          type: object
          additionalProperties: {}
    RoleComposite:
      type: object
      additionalProperties: false
      properties:
        client:
          type: object
          additionalProperties:
            type: string
        realm:
          type: array
          items:
            type: string
    GetLoginsByUserIdResponse:
      type: object
      additionalProperties: false
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Login'
        links: {}
    Login:
      type: object
      additionalProperties: false
      properties:
        eventType:
          type: string
        ipAddress:
          type: string
        time:
          type: string
          format: date-time
        userId:
          type: string
    GetLoginsByUserIdRequest:
      type: object
      additionalProperties: false
    GetSitesForUserResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/SiteDto'
    SiteDto:
      type: object
      additionalProperties: false
      required:
        - siteGLN
        - siteNames
        - displayName
      properties:
        siteGLN:
          type: string
          maxLength: 13
          minLength: 1
        siteNames:
          type: string
          minLength: 1
        displayName:
          type: string
          minLength: 1
    GetUserByIdResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/UserByIdResponse'
    UserByIdResponse:
      type: object
      additionalProperties: false
      required:
        - userId
        - firstName
        - lastName
        - email
        - siteGLN
      properties:
        userId:
          type: string
          format: guid
          minLength: 1
        firstName:
          type: string
          maxLength: 32
          minLength: 1
        lastName:
          type: string
          maxLength: 32
          minLength: 1
        email:
          type: string
          maxLength: 255
          minLength: 1
        siteGLN:
          type: string
          maxLength: 13
          minLength: 1
    GetUserByIdRequest:
      type: object
      additionalProperties: false
    GetUserLoginsResponse:
      type: object
      additionalProperties: false
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Login'
        links: {}
    GetUserLoginsRequest:
      type: object
      additionalProperties: false
    GetAllMarketsResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/MarketDto'
    UpdateUserDetails:
      type: object
      additionalProperties: false
      required:
        - firstName
        - lastName
        - siteGLN
        - email
      properties:
        firstName:
          type: string
          maxLength: 32
          minLength: 1
        lastName:
          type: string
          maxLength: 32
          minLength: 1
        siteGLN:
          type: string
          maxLength: 13
          minLength: 1
        email:
          type: string
          format: email
          maxLength: 255
          minLength: 1
    UpdateUserPasswordBody:
      type: object
      additionalProperties: false
      required:
        - oldPassword
        - newPassword
        - confirmNewPassword
      properties:
        oldPassword:
          type: string
          minLength: 1
        newPassword:
          type: string
          minLength: 1
        confirmNewPassword:
          type: string
          minLength: 1
    UserStatusPayload:
      type: object
      additionalProperties: false
      required:
        - enabled
      properties:
        enabled:
          type: boolean
    MarketDto:
      type: object
      additionalProperties: false
      required:
        - tenantId
        - tenantName
      properties:
        tenantId:
          type: string
          format: guid
          minLength: 1
        tenantName:
          type: string
          maxLength: 255
          minLength: 1
    GetAllOrganisationsByMarketResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Organisation'
    Organisation:
      type: object
      additionalProperties: false
      required:
        - organisationGln
        - organisationName
        - sites
      properties:
        organisationGln:
          type: string
          maxLength: 255
          minLength: 1
        organisationName:
          type: string
          maxLength: 255
          minLength: 1
        orgDisplayName:
          type: string
        sites:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Sites'
    Sites:
      type: object
      additionalProperties: false
      required:
        - siteGln
        - siteName
        - productType
      properties:
        siteGln:
          type: string
          maxLength: 255
          minLength: 1
        siteName:
          type: string
          maxLength: 255
          minLength: 1
        siteDisplayName:
          type: string
        productType:
          type: array
          minItems: 1
          items:
            type: string
    GetAllTenantOrganisationRequest:
      type: object
      additionalProperties: false
    CreateOrganisationSiteResponse:
      type: object
      additionalProperties: false
      properties:
        data:
          $ref: '#/components/schemas/Data'
    Data:
      type: object
      additionalProperties: false
      properties:
        organisationSiteGln:
          type: string
    ErrorResponse:
      type: object
      description: the dto used to send an error response to the client
      additionalProperties: false
      properties:
        statusCode:
          type: integer
          description: the http status code sent to the client. default is 400.
          format: int32
          default: 400
        message:
          type: string
          description: the message for the error response
          default: One or more errors occurred!
        errors:
          type: object
          description: the collection of errors for the current context
          additionalProperties:
            type: array
            items:
              type: string
    CreateOrganisationSiteRequest:
      type: object
      additionalProperties: false
      required:
        - organisationGln
        - organisationName
        - sites
      properties:
        organisationGln:
          type: string
          minLength: 1
          nullable: false
        organisationName:
          type: string
          minLength: 1
          nullable: false
        sites:
          type: array
          nullable: false
          items:
            $ref: '#/components/schemas/Site'
    Site:
      type: object
      additionalProperties: false
      required:
        - siteGln
        - siteName
        - markets
      properties:
        siteGln:
          type: string
          minLength: 1
          nullable: false
        siteName:
          type: string
          minLength: 1
          nullable: false
        markets:
          type: array
          minLength: 1
          nullable: false
          items:
            type: string
        enabled:
          type: boolean
    GetAllPLAOrganisationResponse:
      type: object
      additionalProperties: false
      properties:
        data:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/CreateOrganisationSiteRequest'
    GetOrganisationByIdResponse:
      type: object
      additionalProperties: false
      properties:
        organization:
          $ref: '#/components/schemas/Organization'
    Organization:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          nullable: true
        name:
          type: string
          nullable: true
        alias:
          type: string
          nullable: true
        enabled:
          type: boolean
          nullable: true
        description:
          type: string
          nullable: true
        redirectUrl:
          type: string
          nullable: true
        attributes:
          type: object
          nullable: true
          additionalProperties:
            type: array
            items:
              type: string
        domains:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/OrganizationDomain'
        members:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/Member'
        identityProviders:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/IdentityProvider'
    OrganizationDomain:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          nullable: true
        verified:
          type: boolean
          nullable: true
    Member:
      allOf:
        - $ref: '#/components/schemas/User'
        - type: object
          additionalProperties: false
          properties:
            membershipType:
              nullable: true
              oneOf:
                - $ref: '#/components/schemas/MembershipType'
    MembershipType:
      type: integer
      description: ''
      x-enumNames:
        - Managed
        - Unmanaged
      enum:
        - 0
        - 1
    User:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
        createdTimestamp:
          type: integer
          format: int64
        username:
          type: string
        enabled:
          type: boolean
          nullable: true
        totp:
          type: boolean
          nullable: true
        emailVerified:
          type: boolean
          nullable: true
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
        disableableCredentialTypes:
          type: array
          items:
            type: string
        requiredActions:
          type: array
          items:
            type: string
        notBefore:
          type: integer
          format: int32
          nullable: true
        access:
          $ref: '#/components/schemas/UserAccess'
        attributes:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
        clientConsents:
          type: array
          items:
            $ref: '#/components/schemas/UserConsent'
        clientRoles:
          type: object
          additionalProperties: {}
        credentials:
          type: array
          items:
            $ref: '#/components/schemas/Credentials'
        federatedIdentities:
          type: array
          items:
            $ref: '#/components/schemas/FederatedIdentity'
        federationLink:
          type: string
        groups:
          type: array
          items:
            type: string
        origin:
          type: string
        realmRoles:
          type: array
          items:
            type: string
        self:
          type: string
        serviceAccountClientId:
          type: string
    UserAccess:
      type: object
      additionalProperties: false
      properties:
        manageGroupMembership:
          type: boolean
          nullable: true
        view:
          type: boolean
          nullable: true
        mapRoles:
          type: boolean
          nullable: true
        impersonate:
          type: boolean
          nullable: true
        manage:
          type: boolean
          nullable: true
    UserConsent:
      type: object
      additionalProperties: false
      properties:
        clientId:
          type: string
        grantedClientScopes:
          type: array
          items:
            type: string
        createdDate:
          type: integer
          format: int64
          nullable: true
        lastUpdatedDate:
          type: integer
          format: int64
          nullable: true
    Credentials:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
        algorithm:
          type: string
        config:
          type: object
          additionalProperties:
            type: string
        counter:
          type: integer
          format: int32
          nullable: true
        createdDate:
          type: integer
          format: int64
          nullable: true
        device:
          type: string
        digits:
          type: integer
          format: int32
          nullable: true
        hashIterations:
          type: integer
          format: int32
          nullable: true
        hashedSaltedValue:
          type: string
        period:
          type: integer
          format: int32
          nullable: true
        salt:
          type: string
        temporary:
          type: boolean
          nullable: true
        type:
          type: string
        value:
          type: string
    FederatedIdentity:
      type: object
      additionalProperties: false
      properties:
        identityProvider:
          type: string
        userId:
          type: string
        userName:
          type: string
    IdentityProvider:
      type: object
      additionalProperties: false
      properties:
        alias:
          type: string
        internalId:
          type: string
        providerId:
          type: string
        enabled:
          type: boolean
          nullable: true
        updateProfileFirstLoginMode:
          type: string
        trustEmail:
          type: boolean
          nullable: true
        storeToken:
          type: boolean
          nullable: true
        addReadTokenRoleOnCreate:
          type: boolean
          nullable: true
        authenticateByDefault:
          type: boolean
          nullable: true
        linkOnly:
          type: boolean
          nullable: true
        firstBrokerLoginFlowAlias:
          type: string
        config:
          $ref: '#/components/schemas/Config'
    Config:
      type: object
      additionalProperties: false
      properties:
        hideOnLoginPage:
          type: string
        clientSecret:
          type: string
        clientId:
          type: string
        disableUserInfo:
          type: string
        useJwksUrl:
          type: string
    GetOrganisationByIdRequest:
      type: object
      additionalProperties: false
    GetOrganisationSiteByOrgGlnResponse:
      type: object
      additionalProperties: false
      properties:
        data:
          nullable: true
          oneOf:
            - $ref: '#/components/schemas/CreateOrganisationSiteRequest'
    GetOrganisationGlnRequest:
      type: object
      additionalProperties: false
    PlaOrganisationSiteResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/Response'
    Response:
      type: object
      additionalProperties: false
      required:
        - responseMessage
        - status
      properties:
        siteId:
          type: string
          format: guid
          nullable: true
        responseMessage:
          type: string
          minLength: 1
        status:
          type: integer
          format: int32
    SiteDetails:
      type: object
      additionalProperties: false
      required:
        - siteGln
        - siteName
        - organisationGln
        - organisationName
        - marketId
        - productTypes
      properties:
        siteGln:
          type: string
          maxLength: 13
          minLength: 1
        siteName:
          type: string
          maxLength: 255
          minLength: 1
        organisationGln:
          type: string
          maxLength: 13
          minLength: 1
        organisationName:
          type: string
          maxLength: 255
          minLength: 1
        marketId:
          type: string
          format: guid
          minLength: 1
        productTypes:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/SiteProductType'
    SiteProductType:
      type: object
      additionalProperties: false
      required:
        - name
        - configuration
      properties:
        name:
          type: string
          maxLength: 255
          minLength: 1
        configuration:
          $ref: '#/components/schemas/ProductConfiguration'
    DeletePlaOrganisationSiteBySiteIdRequest:
      type: object
      additionalProperties: false
    GetAllSiteResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/OrganisationSiteDetailsDto'
    OrganisationSiteDetailsDto:
      type: object
      additionalProperties: false
      required:
        - siteId
        - siteGln
        - siteName
        - organisationGln
        - organisationName
        - market
        - productTypes
        - enabled
      properties:
        siteId:
          type: string
          format: guid
          minLength: 1
        siteGln:
          type: string
          maxLength: 13
          minLength: 1
        siteName:
          type: string
          maxLength: 255
          minLength: 1
        organisationGln:
          type: string
          maxLength: 13
          minLength: 1
        organisationName:
          type: string
          maxLength: 255
          minLength: 1
        market:
          type: string
          minLength: 2
        productTypes:
          type: array
          minItems: 1
          items:
            type: string
        enabled:
          type: boolean
    GetOrganisationSiteDetailsBySiteIdResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/PlaOrganisationSiteDto'
    PlaOrganisationSiteDto:
      type: object
      additionalProperties: false
      required:
        - siteId
        - enabled
        - siteDetails
      properties:
        siteId:
          type: string
          format: guid
          minLength: 1
        enabled:
          type: boolean
        siteDetails:
          $ref: '#/components/schemas/SiteDetails'
    GetOrganisationSiteDetailsBySiteIdRequest:
      type: object
      additionalProperties: false
    UpdatePlaSiteStatusBySiteIdRequest:
      type: object
      additionalProperties: false
      required:
        - siteId
        - enabled
      properties:
        siteId:
          type: string
          format: guid
          minLength: 1
        enabled:
          type: boolean
    GetAccountDetailsResponse:
      type: object
      additionalProperties: false
      required:
        - data
      properties:
        data:
          $ref: '#/components/schemas/UserDetails'
    UserDetails:
      type: object
      additionalProperties: false
      required:
        - email
        - markets
        - roles
      properties:
        email:
          type: string
          minLength: 1
        firstName:
          type: string
        lastName:
          type: string
        markets:
          type: array
          items:
            type: string
        roles:
          type: array
          items:
            type: string
        username:
          type: string
        siteNames:
          type: string
    UpdateAccountDetailsRequest:
      type: object
      additionalProperties: false
      required:
        - firstName
        - lastName
      properties:
        email:
          type: string
          format: email
          pattern: ^[^@]+@[^@]+$
          nullable: true
        firstName:
          type: string
          maxLength: 255
          minLength: 0
          nullable: false
        lastName:
          type: string
          maxLength: 255
          minLength: 0
          nullable: false
        password:
          type: string
          maxLength: 255
          minLength: 13
          nullable: true
  securitySchemes:
    JWTBearerAuth:
      type: http
      description: Enter a JWT token to authorize the requests...
      scheme: Bearer
      bearerFormat: JWT
x-generator: NSwag v14.4.0.0 (NJsonSchema v11.3.2.0 (Newtonsoft.Json v13.0.0.0))
